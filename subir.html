<!-- subir.html -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Subir Archivo</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="login-body">
<div class="upload-container">
  <h2>Sube tu Archivo</h2>
  <form class="upload-form" enctype="multipart/form-data">

    <!-- Archivo principal -->
    <label>Archivo:</label>
    <input type="file" name="archivo" required />

    <!-- Logo circular -->
    <label>Logo del archivo (circular):</label>
    <input type="file" name="logo" accept="image/*" />

    <!-- Nombre del archivo -->
    <label>Nombre:</label>
    <input type="text" name="nombre" required />

    <!-- Descripción -->
    <label>Descripción:</label>
    <textarea name="descripcion" rows="4" required></textarea>

    <!-- Tipo de contenido -->
    <label>Tipo:</label>
    <select name="tipo" id="tipo" onchange="cambiarFormato()" required>
      <option value="">Selecciona</option>
      <option value="video">Video</option>
      <option value="imagen">Imagen</option>
      <option value="audio">Audio</option>
      <option value="otros">Otros</option>
    </select>

    <!-- Formatos dinámicos -->
    <div id="formato-contenedor" style="margin-top: 10px;"></div>

    <!-- Imágenes relacionadas -->
    <label>Imágenes relacionadas (opcional):</label>
    <input type="file" name="preview[]" multiple accept="image/*" />

    <button type="submit">Subir</button>
  </form>
</div>

<script>
function cambiarFormato() {
  const tipo = document.getElementById("tipo").value;
  const contenedor = document.getElementById("formato-contenedor");

  let opciones = "";

  switch (tipo) {
    case "video":
      opciones = ["mp4", "avi", "mov"];
      break;
    case "imagen":
      opciones = ["jpg", "png", "gif", "webp"];
      break;
    case "audio":
      opciones = ["mp3", "wav", "ogg"];
      break;
    case "otros":
      opciones = ["zip", "pdf", "rar", "docx"];
      break;
    default:
      opciones = [];
  }

  contenedor.innerHTML = opciones.length
    ? `<label>Formato:</label><select name="formato" required>${opciones.map(f => `<option value="${f}">${f}</option>`).join('')}</select>`
    : "";
}
</script>
</body>
</html>
