<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Subir Archivo</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <a href="index.html" class="menu-icon">☰</a>
    <a href="index.html" class="logo">
      <img src="Logo.png" alt="Logo" />
    </a>
    <a href="index.html" class="user">
      <span>UserName</span>
      <img src="img/avatar.png" alt="Foto de perfil"/>
    </a>
  </header>

  <div class="container upload-page-container">
    <main class="upload-main">
      <h2>Subir Nuevo Archivo</h2>
      <form class="upload-form">
        <div class="form-group">
          <label for="authorName">Nombre de Autor:</label>
          <input type="text" id="authorName" name="authorName" required />
        </div>

        <div class="form-group">
          <label for="fileLogo">Logo Circular del Archivo:</label>
          <input type="file" id="fileLogo" name="fileLogo" accept="image/*" />
          <small>Esta imagen aparecerá junto a tu nombre de autor.</small>
        </div>

        <div class="form-group">
          <label for="fileType">Tipo de Archivo:</label>
          <select id="fileType" name="fileType" onchange="updateSubtypeOptions()">
            <option value="">Selecciona un tipo</option>
            <option value="video">Video</option>
            <option value="image">Imagen</option>
            <option value="audio">Audio</option>
            <option value="other">Otros</option>
          </select>
        </div>

        <div class="form-group" id="fileSubtypeGroup" style="display: none;">
          <label for="fileSubtype">Formato del Archivo:</label>
          <select id="fileSubtype" name="fileSubtype">
            </select>
        </div>

        <div class="form-group">
          <label for="fileDescription">Descripción del Archivo:</label>
          <textarea id="fileDescription" name="fileDescription" rows="5" required></textarea>
        </div>
        
        <div class="form-group">
          <label for="mainFile">Subir Archivo Principal:</label>
          <input type="file" id="mainFile" name="mainFile" required />
        </div>

        <div class="form-group">
          <label for="relatedImages">Imágenes Relacionadas (Opcional):</label>
          <input type="file" id="relatedImages" name="relatedImages" accept="image/*" multiple />
          <small>Estas imágenes se mostrarán como previsualizaciones.</small>
        </div>

        <button type="submit">Publicar Archivo</button>
      </form>
    </main>
  </div>

  <script>
    function updateSubtypeOptions() {
      const fileType = document.getElementById('fileType').value;
      const fileSubtypeGroup = document.getElementById('fileSubtypeGroup');
      const fileSubtype = document.getElementById('fileSubtype');
      fileSubtype.innerHTML = ''; // Limpiar opciones anteriores

      if (fileType) {
        fileSubtypeGroup.style.display = 'block';
        let options = [];
        switch (fileType) {
          case 'video':
            options = ['mp4', 'avi', 'mov', 'mkv'];
            break;
          case 'image':
            options = ['jpg', 'png', 'gif', 'bmp'];
            break;
          case 'audio':
            options = ['mp3', 'wav', 'ogg', 'flac'];
            break;
          case 'other':
            options = ['zip', 'rar', 'exe', 'pdf', 'doc', 'txt'];
            break;
        }
        options.forEach(option => {
          const opt = document.createElement('option');
          opt.value = option;
          opt.textContent = option.toUpperCase();
          fileSubtype.appendChild(opt);
        });
      } else {
        fileSubtypeGroup.style.display = 'none';
      }
    }
  </script>
</body>
</html>
